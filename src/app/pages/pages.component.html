<ng-container
  *ngFor="
    let page of pages$ | async;
    let pageIndex = index;
    trackBy: handleTrackBy
  "
>
  <div class="page">
    <div class="page__content">
      <ng-container
        *ngFor="
          let layoutNode of layoutNodes$ | async;
          let i = index;
          trackBy: handleTrackBy
        "
      >
        <app-section
          [layoutNode]="layoutNode"
          [pageId]="page.id"
          [parentIndex]="[pageIndex]"
          [index]="[pageIndex, i]"
        />
      </ng-container>
    </div>
  </div>
</ng-container>
